<visuality:BaseDialog x:Class="Visuality.AutoPlayActionEditDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:controls="clr-namespace:AntWpf.Controls;assembly=AntWpf"
        xmlns:uiLibrary="clr-namespace:Aimmy2.UILibrary"
        xmlns:uiLibrary1="clr-namespace:UILibrary"
        xmlns:local="clr-namespace:Visuality"
        xmlns:visuality="clr-namespace:Aimmy2.Visuality"
        mc:Ignorable="d"
        Title="Edit Action"
        Height="500"
        Width="450"
        MinHeight="400"
        MinWidth="350"
        WindowStyle="None"
        Topmost="True"
        ResizeMode="CanResizeWithGrip"
        WindowStartupLocation="CenterScreen"
        AllowsTransparency="True"
        Background="Transparent">
    <Grid>
        <Border x:Name="MainBorder"
                CornerRadius="5"
                BorderBrush="Black"
                BorderThickness="1"
                Background="{StaticResource Background}"
                MouseLeftButtonDown="Border_MouseLeftButtonDown">
            <Grid>
                <Grid x:Name="Topbar" VerticalAlignment="Top" Height="70">
                    <Grid>
                        <Label Content="&#xE7C4;" HorizontalAlignment="Left" Margin="15,0,0,0" VerticalAlignment="Center" Foreground="#DDFFFFFF" Padding="0,0,0,0" FontSize="14" FontFamily="Segoe MDL2 Assets" />
                        <Label Content="{Binding Title, RelativeSource={RelativeSource AncestorType=local:AutoPlayActionEditDialog}}" HorizontalAlignment="Left" Margin="38,0,0,0" VerticalAlignment="Center" Foreground="#DDFFFFFF" Padding="0,0,0,0" FontSize="14" FontFamily="{StaticResource Atkinson Hyperlegible}" />
                        <Button x:Name="Exit" Content="&#xE8BB;" HorizontalAlignment="Right" Background="{x:Null}" BorderBrush="{x:Null}" Foreground="White" FontFamily="Segoe MDL2 Assets" Padding="15,0,15,0" BorderThickness="0,0,0,0" FontSize="10" VerticalAlignment="Center" Click="Exit_Click" />
                    </Grid>
                </Grid>
                <Grid x:Name="MainArea" Margin="10,50,10,10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <ScrollViewer>
                        <StackPanel>
                            <!-- Action Name -->
                            <Label Foreground="{StaticResource Foreground}"
                                   FontSize="13"
                                   Content="Action Name"
                                   FontFamily="{StaticResource Atkinson Hyperlegible}" />
                            <TextBox BorderThickness="1"
                                     Padding="3 5 1 5"
                                     Text="{Binding Action.Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                     Margin="2, 5"
                                     Tag="e.g. move_left, jump, attack..."
                                     FontFamily="{StaticResource Atkinson Hyperlegible}"
                                     Style="{DynamicResource placeHolder}"
                                     BorderBrush="#3FFFFFFF"
                                     Background="{x:Null}"
                                     Foreground="{StaticResource Foreground}" />
                            <TextBlock Foreground="{StaticResource Foreground}"
                                       FontSize="11"
                                       Margin="2 0 0 10"
                                       TextWrapping="Wrap"
                                       Visibility="{Binding Converter={StaticResource helpVis}}"
                                       Text="The name the AI will use to trigger this action. Use underscores, no spaces."
                                       FontFamily="{StaticResource Atkinson Hyperlegible}" />

                            <!-- Description -->
                            <Label Foreground="{StaticResource Foreground}"
                                   FontSize="13"
                                   Content="Description (for AI)"
                                   FontFamily="{StaticResource Atkinson Hyperlegible}" />
                            <TextBox BorderThickness="1"
                                     Padding="3 5 1 5"
                                     Text="{Binding Action.Description, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                     TextWrapping="Wrap"
                                     AcceptsReturn="True"
                                     MinHeight="50"
                                     Margin="2, 5"
                                     Tag="Describe what this action does..."
                                     FontFamily="{StaticResource Atkinson Hyperlegible}"
                                     Style="{DynamicResource placeHolder}"
                                     BorderBrush="#3FFFFFFF"
                                     Background="{x:Null}"
                                     Foreground="{StaticResource Foreground}" />
                            <TextBlock Foreground="{StaticResource Foreground}"
                                       FontSize="11"
                                       Margin="2 0 0 10"
                                       TextWrapping="Wrap"
                                       Visibility="{Binding Converter={StaticResource helpVis}}"
                                       Text="Help the AI understand when to use this action."
                                       FontFamily="{StaticResource Atkinson Hyperlegible}" />

                            <uiLibrary:Line Margin="0 5 0 10" />

                            <!-- Keys -->
                            <Label Foreground="{StaticResource Foreground}"
                                   FontSize="13"
                                   Content="Keys to Press"
                                   FontFamily="{StaticResource Atkinson Hyperlegible}" />
                            <uiLibrary1:MultiKeyChanger
                                Margin="2 5"
                                Keys="{Binding Action.Keys, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <TextBlock Foreground="{StaticResource Foreground}"
                                       FontSize="11"
                                       Margin="2 0 0 10"
                                       TextWrapping="Wrap"
                                       Visibility="{Binding Converter={StaticResource helpVis}}"
                                       Text="The keys/buttons that will be pressed when this action is executed."
                                       FontFamily="{StaticResource Atkinson Hyperlegible}" />

                            <!-- Duration -->
                            <StackPanel x:Name="DurationPanel" Margin="0 5 0 0" />
                        </StackPanel>
                    </ScrollViewer>

                    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right">
                        <controls:Button x:Name="CancelButton"
                                         BorderBrush="{StaticResource ButtonBorder}"
                                         Background="{StaticResource ButtonBackground}"
                                         EffectBrush="{StaticResource ButtonEffect}"
                                         Content="Cancel"
                                         Margin="0 0 10 0"
                                         Height="24"
                                         MinWidth="70"
                                         FontFamily="{StaticResource Atkinson Hyperlegible}"
                                         BorderThickness="0"
                                         FontSize="12"
                                         Foreground="White"
                                         Click="Exit_Click" />
                        <controls:Button x:Name="SaveButton"
                                         IsEnabled="{Binding Action.IsValid}"
                                         BorderBrush="{StaticResource ButtonBorder}"
                                         Background="{StaticResource ButtonBackground}"
                                         EffectBrush="{StaticResource ButtonEffect}"
                                         Content="Save"
                                         Height="24"
                                         Width="70"
                                         FontFamily="{StaticResource Atkinson Hyperlegible}"
                                         BorderThickness="0"
                                         FontSize="12"
                                         Foreground="White"
                                         Click="SaveButton_Click" />
                    </StackPanel>
                </Grid>
            </Grid>
        </Border>
    </Grid>
</visuality:BaseDialog>
